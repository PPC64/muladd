#include "muladd.h"

void print_mul_add_result(int *out, int len, int carry)
{
  printf("\nout:");
  for(size_t i=0; i < len; i++){
    printf("%d\n",out[i]);
  }
  printf("\ncarry: %d\n",carry);
  return;
}

int main () {
  int32_t out1[] = {23, -957044926, 15881822, 1701240092, -1971443703, -1994302078, 513491313, 1590656412, -1659771360, -1044273486, 1270510935, -268855838, 1713634739, 363287304, 1003610, -315935412, -2092873774, 1156879624, 1409412696, 476029096, -1349223486, 286367250, 1842248658, -2038494814, 1088610338, -304656622, 2010784805, 218253312, 285145206, 2064025632, 380191851, -1521740110, 803411882, 42112128, 1411868849, -1202653280, -2146288767, 2069706188, -1350236142, -1983185052, -2100348014, 1386234360, -1937541330, -178334176, 1364584405, 1745464704, -1749258935, 105053954, 1085076019, 1735568388, -1603538992, 1904942624, 115703945, -1230009836, -169175811, -1322550990, 707168, 613956812, -1453209673, 782791212, -331862677, 1003298816, 2121847877, 1699857090, 16063209, -1901480672, 104033378, -32653484};
  int32_t in1[] = {451934, 369355947, 1229703874, 2100203989, 2046806454, -991392590, -458300732, 92849083, 684905284, -815489911, -1676379398, -316928146, -1237011834, -138946368, 1565049096, 1807158858, -1667943216, -812459425, 101311173, -1678040867, 636311257, 1342903864, -871271809, 1849520002, -1241979901, -2133382456, 996939981, -172645750, 77939259, -1852884571, -345781888, -25712738, 371459176, 945325299};
  int32_t offset = 1;
  int32_t len = 33;
  int32_t k = 945325299;
  int32_t carry;
  carry = mulAdd(out1, in1, offset, len, k, sizeof(out1)/sizeof(int32_t));
  print_mul_add_result(out1, sizeof(out1)/sizeof(int32_t), carry);
  return 0;
}
